$(function(){function e(){r.each(function(){var e=$(this).attr("class");"primary-category"==e?s.allPrimary++:"category"==e?s.allCategory++:"cancel"==e&&s.allCancel++,e.toLowerCase().indexOf("page")>=0&&(s.allWork++,e.toLowerCase().indexOf("html")>=0?s.allHtml++:e.toLowerCase().indexOf("develop")>=0?s.allDev++:e.toLowerCase().indexOf("board")>=0?s.allBoard++:e.toLowerCase().indexOf("link")>=0?s.allLink++:e.toLowerCase().indexOf("extra")>=0?s.allExtra++:e.toLowerCase().indexOf("iframe")>=0&&s.allIframe++),e.toLowerCase().indexOf("done")>=0&&(s.doneWork++,e.toLowerCase().indexOf("html")>=0?s.doneHtml++:e.toLowerCase().indexOf("develop")>=0?s.doneDev++:e.toLowerCase().indexOf("board")>=0?s.doneBoard++:e.toLowerCase().indexOf("iframe")>=0&&s.doneIframe++)}),s.allWork=s.allWork-s.allLink-s.allExtra,console.log(s),$(".progress-all .progress-bar").css({width:Math.floor(s.doneWork/s.allWork*100)+"%"}).html('<div class="progress-percent">'+Math.floor(s.doneWork/s.allWork*100)+"%</div>"),$(".all-work").text(s.allWork+"p"),$(".done-work .progress-bar").css({width:Math.floor(s.doneWork/s.allWork*100)+"%"}).html('<div class="progress-percent">'+s.doneWork+"p</div>"),$(".all-work-html").text(s.allHtml+"p"),$(".done-work-html .progress-bar").css({width:Math.floor(s.doneHtml/s.allHtml*100)+"%"}).html('<div class="progress-percent">'+s.doneHtml+"p</div>"),$(".all-work-board").text(s.allBoard+"p"),$(".done-work-board .progress-bar").css({width:Math.floor(s.doneBoard/s.allBoard*100)+"%"}).html('<div class="progress-percent">'+s.doneBoard+"p</div>"),$(".all-work-develop").text(s.allDev+"p"),$(".done-work-develop .progress-bar").css({width:Math.floor(s.doneDev/s.allDev*100)+"%"}).html('<div class="progress-percent">'+s.doneDev+"p</div>"),$(".all-work-iframe").text(s.allIframe+"p"),$(".done-work-iframe .progress-bar").css({width:Math.floor(s.doneIframe/s.allIframe*100)+"%"}).html('<div class="progress-percent">'+s.doneIframe+"p</div>"),$(".all-work-link").text(s.allLink+"p"),$(".done-work-link .progress-bar").css({width:Math.floor(s.allLink/s.allLink*100)+"%"}).html('<div class="progress-percent">'+s.allLink+"p</div>")}var l="";!function(){var e=location;""==(l=e.search.replace("?",""))&&(location.href=e.href+"ap.html?ap")}();var a=[],t=[],o=[],r=$(".file-list tbody tr"),s={allWork:0,allPrimary:0,allCategory:0,allCancel:0,allHtml:0,allDev:0,allBoard:0,allLink:0,allExtra:0,allIframe:0,doneWork:0,doneHtml:0,doneDev:0,doneBoard:0,doneIframe:0},d=1;$.getJSON("/static/guide/data/"+l+"_file_data.json",function(e){!function(e){$.each(e,function(e,l){a[e]=l.split(".")[0]})}(e)}).done(function(){r.each(function(){!function(e){var l=e.children("td"),a=l.eq(6).text().toLowerCase();l.has("s").length?(e.addClass("cancel"),l.eq(7).text("")):(a=l.eq(7).text().indexOf("*")>=0?"extra-page":1==l.length&&""!=l.eq(0).text()?"primary-category ":a?a+"-page":a+"category",e.addClass(a))}($(this)),function(e){if(e.hasClass("cancel")||e.hasClass("category")||e.hasClass("link-page"))e.prepend("<td></td>"),e.append("<td></td>");else if(e.attr("class").indexOf("page")>=0)for(var l=0;l<a.length;l++){if(e.children("td:nth-child(8)").text()==a[l]){e.prepend("<td>"+d+"</td>"),e.addClass("done").append('<td class="center"><a href="../html/'+a[l]+'.html" class="list-link" target="blank"> DONE </a></td>'),t[l]=!0,d++;break}if(e.children("td:nth-child(8)").text().indexOf("*")>=0){e.prepend("<td></td>"),e.append("<td></td>");break}l==a.length-1&&(e.prepend("<td>"+d+"</td>"),e.append('<td class="center">X</td>'),d++)}else e.prepend("<td></td>"),e.append("<td></td>")}($(this))}),function(){for(var e=0;e<t.length;e++)1!=t[e]&&o.push(a[e]);console.log(o)}(),e()}),$("body").on("click",".js-show-all",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr").removeClass("hide"):$(".file-list tbody tr."+e+"-page").removeClass("hide")}),$("body").on("click",".js-show-done",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr.done").removeClass("hide"):$(".file-list tbody tr."+e+"-page.done").removeClass("hide")}),$("body").on("click",".file-list tr",function(e){console.log($(this).hasClass("cancel")),$(this).find(".list-link").length?window.open($(this).find(".list-link").attr("href")):alert("제작 페이지가 아닙니다.")}),$(".tab-sub-list-item-link").on("click",function(e){e.preventDefault();var l=$(".tab-sub-list-item-link"),a=$(".tab-contents"),t=l.index($(this));l.removeClass("on"),$(this).addClass("on"),a.removeClass("on"),a.eq(t).addClass("on")})});