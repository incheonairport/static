var LayerPopup;$(function(){LayerPopup=new function(){var e=$(".layer-wrap");this.openPopup=function(t){e.addClass("on"),t.addClass("on")},this.closePopup=function(t){e.removeClass("on"),t.removeClass("on")},this.nextPopup=function(e,t){e.removeClass("on"),t.addClass("on")}}}),$(function(){function e(e){$.each(e,function(e,t){n[e]=t.split(".")[0]})}function t(e){var t=e.children("td"),o=t.eq(6).text().toLowerCase();t.has("s").length?e.addClass("cancel"):(o=t.eq(7).text().indexOf("*")>=0?"extra-page":""!=t.eq(0).text()?o?"primary-category "+t.eq(6).text().toLowerCase()+"-page":"primary-category ":o?o+"-page":o+"category",e.addClass(o))}function o(e){if(e.hasClass("cancel")||e.hasClass("category")||e.hasClass("link-page"))e.prepend("<td></td>"),e.append("<td></td>");else if(e.attr("class").indexOf("page")>=0)for(var t=0;t<n.length;t++){if(e.children("td:nth-child(8)").text()==n[t]){e.prepend("<td>"+p+"</td>"),e.addClass("done").append('<td class="center"><a href="../html/'+n[t]+'.html" class="list-link" target="blank"> DONE </a></td>'),d[t]=!0,p++;break}if(e.children("td:nth-child(8)").text().indexOf("*")>=0){e.prepend("<td></td>"),e.append("<td></td>");break}t==n.length-1&&(e.prepend("<td>"+p+"</td>"),e.append('<td class="center">X</td>'),p++)}else e.prepend("<td></td>"),e.append("<td></td>")}function s(){for(var e=0;e<d.length;e++)1!=d[e]&&l.push(n[e]);console.log(l)}function a(){i.each(function(){var e=$(this).attr("class");"primary-category"==e?c.primary++:"category"==e?c.category++:"cancel"==e&&c.cancel++,e.toLowerCase().indexOf("page")>=0&&(c.work++,e.toLowerCase().indexOf("html")>=0?c.html++:e.toLowerCase().indexOf("develop")>=0?c.dev++:e.toLowerCase().indexOf("board")>=0?c.board++:e.toLowerCase().indexOf("link")>=0?c.link++:e.toLowerCase().indexOf("extra")>=0&&c.extra++),e.toLowerCase().indexOf("done")>=0&&(c.doneWork++,e.toLowerCase().indexOf("html")>=0?c.doneHtml++:e.toLowerCase().indexOf("develop")>=0?c.doneDev++:e.toLowerCase().indexOf("board")>=0&&c.doneBoard++)}),c.work=c.work-c.link-c.extra}function r(){a(),console.log(c),$(".progress-all .progress-bar").css({width:Math.floor(c.doneWork/c.work*100)+"%"}).html('<div class="progress-percent">'+Math.floor(c.doneWork/c.work*100)+"%</div>"),$(".all-work").text(c.work+"p"),$(".done-work .progress-bar").css({width:Math.floor(c.doneWork/c.work*100)+"%"}).html('<div class="progress-percent">'+c.doneWork+"p</div>"),$(".all-work-html").text(c.html+"p"),$(".done-work-html .progress-bar").css({width:Math.floor(c.doneHtml/c.html*100)+"%"}).html('<div class="progress-percent">'+c.doneHtml+"p</div>"),$(".all-work-board").text(c.board+"p"),$(".done-work-board .progress-bar").css({width:Math.floor(c.doneBoard/c.board*100)+"%"}).html('<div class="progress-percent">'+c.doneBoard+"p</div>"),$(".all-work-develop").text(c.dev+"p"),$(".done-work-develop .progress-bar").css({width:Math.floor(c.doneDev/c.dev*100)+"%"}).html('<div class="progress-percent">'+c.doneDev+"p</div>")}var n=[],d=[],l=[],i=$(".file-list tbody tr"),c={work:0,primary:0,category:0,cancel:0,html:0,dev:0,board:0,link:0,extra:0,doneWork:0,doneHtml:0,doneDev:0,doneBoard:0},p=1;$.getJSON("file_list.json",function(t){e(t)}).done(function(){i.each(function(){t($(this)),o($(this))}),s(),r()}),$("body").on("click",".js-show-all",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr").removeClass("hide"):$(".file-list tbody tr."+e+"-page").removeClass("hide")}),$("body").on("click",".js-show-done",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr.done").removeClass("hide"):$(".file-list tbody tr."+e+"-page.done").removeClass("hide")}),$("body").on("click",".file-list tr",function(e){console.log($(this).hasClass("cancel")),$(this).find(".list-link").length?window.open($(this).find(".list-link").attr("href")):$(this).hasClass("cancel")?alert("제작이 취소된 페이지 입니다"):alert("준비 중 입니다.")}),$(".tab-sub-list-link").on("click",function(e){e.preventDefault();var t=$(".tab-sub-list-link"),o=$(".tab-contents"),s=t.index($(this));t.removeClass("on"),$(this).addClass("on"),o.removeClass("on"),o.eq(s).addClass("on")})});