$(function(){function t(t){$.each(t,function(t,e){a[t]=e.split(".")[0]})}function e(t){var e=t.children("td"),s=e.eq(6).text().toLowerCase();e.has("s").length?t.addClass("cancel"):(s=s?s+"-":s,t.addClass(s+"category"))}function s(t){if(t.hasClass("cancel")||t.hasClass("category")||t.hasClass("link-category"))t.append("<td></td>");else for(var e=0;e<a.length;e++){if(t.children("td:last-child").text()==a[e]){t.addClass("done").append('<td class="center"><a href="../html/'+a[e]+'.html" class="list-link" target="blank"> DONE </a></td>'),r[e]=!0;break}e==a.length-1&&t.append('<td class="center">X</td>')}}function o(){for(var t=0;t<r.length;t++)1!=r[t]&&i.push(a[t]);console.log(i)}function l(){n.each(function(){var t=$(this).attr("class");"cancel"==t?d[0]++:"category"==t?d[1]++:(d[2]++,t.toLowerCase().indexOf("html")>=0?d[3]++:t.toLowerCase().indexOf("develop")>=0?d[4]++:t.toLowerCase().indexOf("board")>=0?d[5]++:t.toLowerCase().indexOf("link")>=0&&d[6]++,t.toLowerCase().indexOf("done")>=0&&(d[7]++,t.toLowerCase().indexOf("html")>=0?d[8]++:t.toLowerCase().indexOf("develop")>=0?d[9]++:t.toLowerCase().indexOf("board")>=0&&d[10]++))}),$(".progress-all .progress-bar").css({width:Math.floor(d[7]/d[2]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(d[7]/d[2]*100)+"%</div>"),$(".all-work").text(d[2]+"p"),$(".done-work .progress-bar").css({width:Math.floor(d[7]/d[2]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(d[7])+"p</div>"),$(".all-work-html").text(d[3]+"p"),$(".done-work-html .progress-bar").css({width:Math.floor(d[8]/d[3]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(d[8])+"p</div>"),$(".all-work-board").text(d[4]+"p"),$(".done-work-board .progress-bar").css({width:Math.floor(d[9]/d[4]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(d[9])+"p</div>"),$(".all-work-develop").text(d[5]+"p"),$(".done-work-develop .progress-bar").css({width:Math.floor(d[10]/d[5]*100)+"%"}).html('<div class="progress-percent">'+Math.floor(d[10])+"p</div>")}var a=[],r=[],i=[],n=$(".file-list tbody tr"),d=new Array(11).fill(0);$.getJSON("file_list.json",function(e){t(e)}).done(function(){n.each(function(){e($(this)),s($(this))}),o(),l()}),$("body").on("click",".js-show-all",function(){$(".btn-type-small").removeClass("on");var t=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==t?$(".file-list tbody tr").removeClass("hide"):$(".file-list tbody tr."+t+"-category").removeClass("hide")}),$("body").on("click",".js-show-done",function(){$(".btn-type-small").removeClass("on");var t=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==t?$(".file-list tbody tr.done").removeClass("hide"):$(".file-list tbody tr."+t+"-category.done").removeClass("hide")}),$("body").on("click",".file-list tr",function(t){$(this).find(".list-link").length?window.open($(this).find(".list-link").attr("href")):$(this).find(".cancel").length?alert("제작이 취소된 페이지 입니다"):alert("준비 중 입니다.")}),$(".tab-sub-list-link").on("click",function(t){t.preventDefault();var e=$(".tab-sub-list-link"),s=$(".tab-contents"),o=e.index($(this));e.removeClass("on"),$(this).addClass("on"),s.removeClass("on"),s.eq(o).addClass("on")})});