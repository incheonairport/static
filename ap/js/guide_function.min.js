var VendorDevice,LineTab,SelectBox,LayerPopup,CalendarPopup,ShowHide;$(function(){VendorDevice=new function(){var e=navigator.userAgent;-1!=e.indexOf("Mobile")&&$("html").addClass("mobile"),-1!=e.toLowerCase().indexOf("safari")&&(-1!=e.toLowerCase().indexOf("chrome")?$("html").addClass("chrome"):$("html").addClass("safari")),-1!=e.toLowerCase().indexOf("firefox")&&$("html").addClass("firefox")},LineTab=new function(){var e=0,t=function(t,a){e=$("html").hasClass("mobile")?100/Math.ceil(t.find(a).length/2):100/t.find(a).length},a=function(t,a){t.find(a).css({width:e+"%"})},o=function(t,a){t.find(a).each(function(t){$(this).css({left:t*e+"%"})})},s=function(e){e.hasClass("tab-nav")?e.each(function(){t($(this),".tab-nav-list-item"),a($(this),".tab-nav-list-item")}):e.each(function(){t($(this),".tab-area-heading"),a($(this),".tab-area-heading"),o($(this),".tab-area-heading")})};s($(".tab-nav")),s($(".tab-area"))},SelectBox=new function(){this.toggleSelectList=function(e){e.toggleClass("on"),e.next(".select-list").toggleClass("on")},this.afterClickList=function(e){e.parents(".select-list").removeClass("on"),e.parents(".select-list").prev(".select-link-default").removeClass("on")},this.hideList=function(e){var t=$(".select-list");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("on"),$(".select-link-default").removeClass("on"))}},LayerPopup=new function(){var e=$(".layer-wrap");this.openPopup=function(t){$("html, body").addClass("open-layer"),e.addClass("on"),t.addClass("on")},this.closePopup=function(t){$("html, body").removeClass("open-layer"),e.removeClass("on"),t.removeClass("on")},this.nextPopup=function(e,t){e.removeClass("on"),t.addClass("on")}},CalendarPopup=new function(){this.loadDatePicker=function(){var e=$(".timesetting-date-day");0!=e.length&&(e.hasClass("js-from-input")?($(".js-from-input").datepicker({showMonthAfterYear:!0,showOtherMonths:!0,selectOtherMonths:!0,prevText:"p",nextText:"n",dayNames:["월","화","수","목","금","토","일"],dayNamesMin:["월","화","수","목","금","토","일"],dayNamesShort:["월","화","수","목","금","토","일"],monthNames:[". 1",". 2",". 3",". 4",". 5",". 6",". 7",". 8",". 9",". 10",". 11",". 12"]}),$(".js-to-input").datepicker({showMonthAfterYear:!0,showOtherMonths:!0,selectOtherMonths:!0,prevText:"p",nextText:"n",dayNames:["월","화","수","목","금","토","일"],dayNamesMin:["월","화","수","목","금","토","일"],dayNamesShort:["월","화","수","목","금","토","일"],monthNames:[". 1",". 2",". 3",". 4",". 5",". 6",". 7",". 8",". 9",". 10",". 11",". 12"]})):e.datepicker({showMonthAfterYear:!0,showOtherMonths:!0,selectOtherMonths:!0,prevText:"p",nextText:"n",dayNames:["월","화","수","목","금","토","일"],dayNamesMin:["월","화","수","목","금","토","일"],dayNamesShort:["월","화","수","목","금","토","일"],monthNames:[". 1",". 2",". 3",". 4",". 5",". 6",". 7",". 8",". 9",". 10",". 11",". 12"]}))},this.showDatePicker=function(e,t){e.datepicker(t)},this.loadDatePicker()},ShowHide=new function(){this.showHideContent=function(e,t,a){console.log(1),e?a.eq(t).addClass("on"):a.eq(t).removeClass("on")},this.hideAllContent=function(e){e.removeClass("on")}}}),$(function(){$(".timesetting-date-calendar").on("click",function(){CalendarPopup.showDatePicker($(this),"show")}),$("body").on("click",".js-from-button",function(){CalendarPopup.showDatePicker($(this),"show")}),$("body").on("click",".js-to-button",function(){CalendarPopup.showDatePicker($(this),"show")}),$(".select-link-default").on("click",function(){SelectBox.toggleSelectList($(this))}),$(".select-list .select-list-link").on("click",function(){SelectBox.afterClickList($(this))}),$(document).mouseup(function(e){SelectBox.hideList(e)}),$(".filter .filter-brand-search-btn").on("click",function(){$(this).toggleClass("on"),$(this).parents(".filter").toggleClass("on")}),$(".filter .base-close").on("click",function(){$(this).parents(".filter").removeClass("on")}),$(".filter .filter-option").on("click",function(){$(this).toggleClass("on"),$(this).next(".filter-service-field").toggleClass("on")}),$(".tab-area-heading").on("click",function(){$(this).siblings(".tab-area-heading").removeClass("on").next(".tab-area-content").removeClass("on"),$(this).addClass("on").next(".tab-area-content").addClass("on")})}),$(function(){}),$(function(){function e(e){$.each(e,function(e,t){n[e]=t.split(".")[0]})}function t(e){var t=e.children("td"),a=t.eq(6).text().toLowerCase();t.has("s").length?(e.addClass("cancel"),t.eq(7).text("")):(a=t.eq(7).text().indexOf("*")>=0?"extra-page":1==t.length&&""!=t.eq(0).text()?"primary-category ":a?a+"-page":a+"category",e.addClass(a))}function a(e){if(e.hasClass("cancel")||e.hasClass("category")||e.hasClass("link-page"))e.prepend("<td></td>"),e.append("<td></td>");else if(e.attr("class").indexOf("page")>=0)for(var t=0;t<n.length;t++){if(e.children("td:nth-child(8)").text()==n[t]){e.prepend("<td>"+h+"</td>"),e.addClass("done").append('<td class="center"><a href="../html/'+n[t]+'.html" class="list-link" target="blank"> DONE </a></td>'),i[t]=!0,h++;break}if(e.children("td:nth-child(8)").text().indexOf("*")>=0){e.prepend("<td></td>"),e.append("<td></td>");break}t==n.length-1&&(e.prepend("<td>"+h+"</td>"),e.append('<td class="center">X</td>'),h++)}else e.prepend("<td></td>"),e.append("<td></td>")}function o(){for(var e=0;e<i.length;e++)1!=i[e]&&r.push(n[e]);console.log(r)}function s(){d.each(function(){var e=$(this).attr("class");"primary-category"==e?c.allPrimary++:"category"==e?c.allCategory++:"cancel"==e&&c.allCancel++,e.toLowerCase().indexOf("page")>=0&&(c.allWork++,e.toLowerCase().indexOf("html")>=0?c.allHtml++:e.toLowerCase().indexOf("develop")>=0?c.allDev++:e.toLowerCase().indexOf("board")>=0?c.allBoard++:e.toLowerCase().indexOf("link")>=0?c.allLink++:e.toLowerCase().indexOf("extra")>=0?c.allExtra++:e.toLowerCase().indexOf("iframe")>=0&&c.allIframe++),e.toLowerCase().indexOf("done")>=0&&(c.doneWork++,e.toLowerCase().indexOf("html")>=0?c.doneHtml++:e.toLowerCase().indexOf("develop")>=0?c.doneDev++:e.toLowerCase().indexOf("board")>=0?c.doneBoard++:e.toLowerCase().indexOf("iframe")>=0&&c.doneIframe++)}),c.allWork=c.allWork-c.allLink-c.allExtra}function l(){s(),console.log(c),$(".progress-all .progress-bar").css({width:Math.floor(c.doneWork/c.allWork*100)+"%"}).html('<div class="progress-percent">'+Math.floor(c.doneWork/c.allWork*100)+"%</div>"),$(".all-work").text(c.allWork+"p"),$(".done-work .progress-bar").css({width:Math.floor(c.doneWork/c.allWork*100)+"%"}).html('<div class="progress-percent">'+c.doneWork+"p</div>"),$(".all-work-html").text(c.allHtml+"p"),$(".done-work-html .progress-bar").css({width:Math.floor(c.doneHtml/c.allHtml*100)+"%"}).html('<div class="progress-percent">'+c.doneHtml+"p</div>"),$(".all-work-board").text(c.allBoard+"p"),$(".done-work-board .progress-bar").css({width:Math.floor(c.doneBoard/c.allBoard*100)+"%"}).html('<div class="progress-percent">'+c.doneBoard+"p</div>"),$(".all-work-develop").text(c.allDev+"p"),$(".done-work-develop .progress-bar").css({width:Math.floor(c.doneDev/c.allDev*100)+"%"}).html('<div class="progress-percent">'+c.doneDev+"p</div>"),$(".all-work-iframe").text(c.allIframe+"p"),$(".done-work-iframe .progress-bar").css({width:Math.floor(c.doneIframe/c.allIframe*100)+"%"}).html('<div class="progress-percent">'+c.doneIframe+"p</div>"),$(".all-work-link").text(c.allLink+"p"),$(".done-work-link .progress-bar").css({width:Math.floor(c.allLink/c.allLink*100)+"%"}).html('<div class="progress-percent">'+c.allLink+"p</div>")}var n=[],i=[],r=[],d=$(".file-list tbody tr"),c={allWork:0,allPrimary:0,allCategory:0,allCancel:0,allHtml:0,allDev:0,allBoard:0,allLink:0,allExtra:0,allIframe:0,doneWork:0,doneHtml:0,doneDev:0,doneBoard:0,doneIframe:0},h=1;$.getJSON("file_list.json",function(t){e(t)}).done(function(){d.each(function(){t($(this)),a($(this))}),o(),l()}),$("body").on("click",".js-show-all",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr").removeClass("hide"):$(".file-list tbody tr."+e+"-page").removeClass("hide")}),$("body").on("click",".js-show-done",function(){$(".btn-type-small").removeClass("on");var e=$(this).attr("class").split(" ")[4];$(this).addClass("on"),$(".file-list tbody tr").addClass("hide"),void 0==e?$(".file-list tbody tr.done").removeClass("hide"):$(".file-list tbody tr."+e+"-page.done").removeClass("hide")}),$("body").on("click",".file-list tr",function(e){console.log($(this).hasClass("cancel")),$(this).find(".list-link").length?window.open($(this).find(".list-link").attr("href")):alert("제작 페이지가 아닙니다.")}),$(".tab-sub-list-item-link").on("click",function(e){e.preventDefault();var t=$(".tab-sub-list-item-link"),a=$(".tab-contents"),o=t.index($(this));t.removeClass("on"),$(this).addClass("on"),a.removeClass("on"),a.eq(o).addClass("on")})});